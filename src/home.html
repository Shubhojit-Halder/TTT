<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <button id="oth-btn" onclick="othmsg()" >Sent from the other side</button>
    <div class="main">
        <div id="res" class="boxes">

        </div>
        <div id="box" class="boxes">
            <div id="div1" class="posn top left"></div>
            <div id="div2" class="posn top"></div>
            <div id="div3" class="posn top right"></div>
            <div id="div4" class="posn left"></div>
            <div id="div5" class="posn"></div>
            <div id="div6" class="posn right"></div>
            <div id="div7" class="posn bot left"></div>
            <div id="div8" class="posn bot"></div>
            <div id="div9" class="posn bot right"></div>
        </div>
        <div id="chat" class="boxes">
            <div class="chat-screen">
            </div>
            <div class="txtarea">
                <textarea name="message" placeholder="Enter message" id="msg-box" cols="30" rows="2"></textarea>
                <button id="send-chat" onclick="snd_msg()">Send</button>
            </div>
        </div>
    </div>

    <script>
        function snd_msg() {
            let input = document.querySelector("textarea");
            let scrn = document.querySelector(".chat-screen");
            if (input.value !== '') {
                var mySide = document.createElement("div");
                var myMsg = document.createElement("div");
                const nameLabel = document.createElement("label");
                var text = input.value;
                input.value = "";
                mySide.classList.add("my-msg");
                nameLabel.innerHTML = "You ";
                myMsg.innerHTML = text;
                mySide.appendChild(nameLabel);
                mySide.appendChild(myMsg);
                var now = new Date();
                var sec = now.getSeconds();
                sec = (sec < 10)?`0${sec}`:sec;
                var min = now.getMinutes();
                min = (min < 10)?`0${min}`:min;
                var hrs = now.getHours();
                var meridian = (hrs > 12)?"pm":"am";
                hrs = (hrs < 10)?`0${hrs}`:hrs;
                hrs = (hrs > 12)?hrs -12:hrs;
                var hora = document.createElement("span");
                hora.innerHTML = `${hrs}:${min} ${meridian}`;
                mySide.appendChild(hora);
                scrn.appendChild(mySide);
            }
        }

        function othmsg(){
            let input = document.querySelector("textarea");
            let scrn = document.querySelector(".chat-screen");
            if (input.value !== '') {
                var mySide = document.createElement("div");
                var myMsg = document.createElement("div");
                const nameLabel = document.createElement("label");
                var text = input.value;
                input.value = "";
                mySide.classList.add("oth-msg");
                nameLabel.innerHTML = "Aryadeep ";
                myMsg.innerHTML = text;
                mySide.appendChild(nameLabel);
                mySide.appendChild(myMsg);
                var now = new Date();
                var sec = now.getSeconds();
                sec = (sec < 10)?`0${sec}`:sec;
                var min = now.getMinutes();
                min = (min < 10)?`0${min}`:min;
                var hrs = now.getHours();
                var meridian = (hrs > 12)?"pm":"am";
                hrs = (hrs < 10)?`0${hrs}`:hrs;
                hrs = (hrs > 12)?hrs -12:hrs;
                var hora = document.createElement("span");
                hora.innerHTML = `${hrs}:${min} ${meridian}`;
                mySide.appendChild(hora);
                scrn.appendChild(mySide);
            }
        }
    </script>
</body>

</html>
